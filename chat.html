<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Blackjack</title>
<style>
    body {
        background-color: #0b6623;
        color: white;
        font-family: Arial, sans-serif;
        text-align: center;
    }
    .game {
        margin-top: 40px;
    }
    .cards {
        font-size: 24px;
        margin: 10px;
    }
    button {
        padding: 10px 20px;
        margin: 5px;
        font-size: 16px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }
    #hit { background-color: #f4c542; }
    #stand { background-color: #d9534f; color: white; }
    #new { background-color: #5bc0de; }
    .hidden {
        display: none;
    }
</style>
</head>
<body>

<h1>üÉè Blackjack</h1>

<div class="game">
    <h2>Dealer</h2>
    <div id="dealer-cards" class="cards"></div>
    <div id="dealer-score"></div>

    <h2>You</h2>
    <div id="player-cards" class="cards"></div>
    <div id="player-score"></div>

    <h2 id="message"></h2>

    <button id="hit">Hit</button>
    <button id="stand">Stand</button>
    <button id="new">New Game</button>
</div>

<script>
const suits = ["‚ô†", "‚ô•", "‚ô¶", "‚ô£"];
const values = [
    {name: "A", value: 11},
    {name: "2", value: 2},
    {name: "3", value: 3},
    {name: "4", value: 4},
    {name: "5", value: 5},
    {name: "6", value: 6},
    {name: "7", value: 7},
    {name: "8", value: 8},
    {name: "9", value: 9},
    {name: "10", value: 10},
    {name: "J", value: 10},
    {name: "Q", value: 10},
    {name: "K", value: 10}
];

let deck = [];
let playerCards = [];
let dealerCards = [];
let gameOver = false;

function createDeck() {
    deck = [];
    for (let suit of suits) {
        for (let val of values) {
            deck.push({ suit: suit, name: val.name, value: val.value });
        }
    }
}

function shuffleDeck() {
    for (let i = deck.length - 1; i > 0; i--) {
        let j = Math.floor(Math.random() * (i + 1));
        [deck[i], deck[j]] = [deck[j], deck[i]];
    }
}

function dealCard(hand) {
    hand.push(deck.pop());
}

function calculateScore(hand) {
    let score = 0;
    let aces = 0;

    for (let card of hand) {
        score += card.value;
        if (card.name === "A") aces++;
    }

    while (score > 21 && aces > 0) {
        score -= 10;
        aces--;
    }

    return score;
}

function render() {
    const playerDiv = document.getElementById("player-cards");
    const dealerDiv = document.getElementById("dealer-cards");

    playerDiv.innerHTML = playerCards.map(c => c.name + c.suit).join(" ");
    dealerDiv.innerHTML = dealerCards.map(c => c.name + c.suit).join(" ");

    document.getElementById("player-score").textContent =
        "Score: " + calculateScore(playerCards);
    document.getElementById("dealer-score").textContent =
        gameOver ? "Score: " + calculateScore(dealerCards) : "";
}

function checkGame() {
    let playerScore = calculateScore(playerCards);
    let dealerScore = calculateScore(dealerCards);

    if (playerScore > 21) {
        endGame("You busted! Dealer wins.");
    } else if (dealerScore > 21) {
        endGame("Dealer busted! You win!");
    } else if (gameOver) {
        if (playerScore > dealerScore) endGame("You win!");
        else if (playerScore < dealerScore) endGame("Dealer wins.");
        else endGame("Push (Tie).");
    }
}

function endGame(msg) {
    gameOver = true;
    document.getElementById("message").textContent = msg;
    render();
}

function dealerTurn() {
    while (calculateScore(dealerCards) < 17) {
        dealCard(dealerCards);
    }
}

function newGame() {
    gameOver = false;
    document.getElementById("message").textContent = "";
    createDeck();
    shuffleDeck();
    playerCards = [];
    dealerCards = [];
    dealCard(playerCards);
    dealCard(dealerCards);
    dealCard(playerCards);
    dealCard(dealerCards);
    render();
}

document.getElementById("hit").addEventListener("click", () => {
    if (gameOver) return;
    dealCard(playerCards);
    render();
    checkGame();
});

document.getElementById("stand").addEventListener("click", () => {
    if (gameOver) return;
    dealerTurn();
    gameOver = true;
    render();
    checkGame();
});

document.getElementById("new").addEventListener("click", newGame);

newGame();
</script>

</body>
</html>